name: imos_atf-acoustic_summary_schema
type: table
path: __REPLACE_ME__ 
scheme: file
format: csv
mediatype: text/csv
encoding: utf-8
dialect:
  header: true
  delimiter: ","
  quoteChar: '"'
  skipInitialSpace: false
  lineTerminator: "\n"
  caseSensitiveHeader: false
schema:
  missingValues:
    - ''
    - ' '
    - 'NA'
  fields:
    - name: animal_id # transmitterID(s)_animalID_releaseID
      type: string
      constraints:
        required: true
        pattern: '^(?:A(?:69|180)-\d{4}-\d{1,5}_){1,3}\d{1,10}_\d{1,10}' # can have up to 3 transmitter IDs for one animal when this is a multi sensor instrument
    - name: date_UTC
      type: date
      format: "%Y-%m-%d"
      constraints: {'required': true}
    - name: nb_detections
      type: integer
      constraints: {'required': true}
    - name: species_common_name
      type: string
      constraints: {'required': true}
    - name: species_scientific_name
      type: string
      constraints: {'required': true}
    - name: CAAB_species_id
      type: integer
    - name: WORMS_species_aphia_id
      type: integer
    - name: animal_sex
      type: string
    - name: measurement
      type: string
    - name: transmitter_deployment_locality
      type: string
    - name: transmitter_deployment_longitude
      type: number
      constraints: {'required': true}
    - name: transmitter_deployment_latitude
      type: number
      constraints: {'required': true}
    - name: transmitter_deployment_datetime_UTC
      type: string
      constraints:
        required: true
        pattern: "^(\\d{4}-\\d{2}-\\d{2}( \\d{2}:\\d{2}:\\d{2})?)$"
      constraints: {'required': true}
    - name: transmitter_sensor_type
      type: string
      constraints: {'required': true}
    - name: transmitter_sensor_mean_value
      type: string
    - name: transmitter_sensor_unit
      type: string
    - name: transmitter_sensor_intercept
      type: string
    - name: transmitter_sensor_slope
      type: string
    - name: tag_deployment_project_name
      type: string
      constraints: {'required': true}
    - name: installation_name
      type: string
      constraints: {'required': true}
    - name: station_name
      type: string
      constraints: {'required': true}
    - name: receiver_project_name
      type: string
      constraints: {'required': true}
    - name: receiver_name
      type: string
      constraints: {'required': true}
    - name: receiver_deployment_id
      type: integer
      constraints: {'required': true}
    - name: receiver_deployment_datetime_UTC
      type: string
      constraints:
        required: true
        pattern: "^(\\d{4}-\\d{2}-\\d{2}( \\d{2}:\\d{2}:\\d{2})?)$"
    - name: receiver_recovery_datetime_UTC
      type: string
      constraints:
        required: true
        pattern: "^(\\d{4}-\\d{2}-\\d{2}( \\d{2}:\\d{2}:\\d{2})?)$"
    - name: receiver_deployment_longitude
      type: number
      constraints: {'required': true}
    - name: receiver_deployment_latitude
      type: number
      constraints: {'required': true}
